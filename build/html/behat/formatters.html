

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Formatters &mdash; Behat v1.1.0 documentation</title>
    <link rel="stylesheet" href="../_static/scrolls.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/behat.css" type="text/css" />
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Lobster" type="text/css" />
    <link rel="stylesheet" href="../_static/print.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/theme_extras.js"></script>
    <link rel="top" title="Behat v1.1.0 documentation" href="../index.html" />
    <link rel="next" title="Configuration" href="configuration.html" />
    <link rel="prev" title="Step Argument Transformations" href="transformations.html" /> 
  </head>
  <body>
    <header>
        <a id="logo" href="http://behat.org">Behat</a>
        <nav>
            <ul>
                <li><a href="http://behat.org">main</a></li>
                <li class="active"><a href="http://docs.behat.org">docs</a></li>
                <li><a href="http://pear.behat.org">pear</a></li>
                <li><a href="https://github.com/Behat">github</a></li>
            </ul>
        </nav>
    </header>

    <section class="docs">

        <nav class="toc">
            <h3>Navigation</h3>
            <ul class="nav">
                <li><a href="../index.html">Behat Documentation</a></li>
                    <li><a href="transformations.html">Step Argument Transformations</a> (prev)</li>
                    <li>
                        <a href="#">
                            Formatters
                        </a> (cur)
                    </li>
                    <li><a href="configuration.html">Configuration</a> (next)</li>
            </ul>

            <h3>Table Of Contents</h3>
            <ul>
<li><a class="reference internal" href="#">Formatters</a><ul>
<li><a class="reference internal" href="#pretty">Pretty</a></li>
<li><a class="reference internal" href="#progress">Progress</a></li>
<li><a class="reference internal" href="#html">Html</a></li>
<li><a class="reference internal" href="#junit">JUnit</a></li>
<li><a class="reference internal" href="#writing-your-own-formatter">Writing Your Own Formatter</a></li>
</ul>
</li>
</ul>

        </nav>

        <section class="documentation">
            
  <div class="section" id="formatters">
<h1>Formatters<a class="headerlink" href="#formatters" title="Permalink to this headline">¶</a></h1>
<p>Behat uses <a class="reference external" href="http://components.symfony-project.org/event-dispatcher/">Symfony Event Dispatcher component</a> to send custom events during test suite lifetime.</p>
<p>Behat Formatters is core event listeners, that listens to <tt class="docutils literal"><span class="pre">Behat\Behat\Tester\*</span></tt> events &amp; prints it’s results.</p>
<p>Behat comes with 4 core formatters:</p>
<ul class="simple">
<li><cite>pretty</cite> (default one).</li>
<li><cite>progress</cite> - draws progress of suite excecution much like PHPUnit does.</li>
<li><cite>html</cite> - prints pretty html reports out of suite results.</li>
<li><cite>junit</cite> - junit formatter, which outputs junit xml&#8217;s (great for CI servers).</li>
</ul>
<div class="section" id="pretty">
<h2>Pretty<a class="headerlink" href="#pretty" title="Permalink to this headline">¶</a></h2>
<p>PrettyFormatter is default one &amp; it’s print execution process... PRETTY! It tries to be as much like Cucumber as possible. To force Behat use PrettyFormatter, run it with &#8220;-f&#8221; or &#8220;&#8211;format&#8221; option:</p>
<div class="highlight-bash"><div class="highlight"><pre>behat -f pretty
</pre></div>
</div>
</div>
<div class="section" id="progress">
<h2>Progress<a class="headerlink" href="#progress" title="Permalink to this headline">¶</a></h2>
<p>ProgressFormatter is compact run logger, that is very similar to PHPUnit default output. To use it, run:</p>
<div class="highlight-bash"><div class="highlight"><pre>behat -f progress
</pre></div>
</div>
</div>
<div class="section" id="html">
<h2>Html<a class="headerlink" href="#html" title="Permalink to this headline">¶</a></h2>
<p>HtmlFormatter is html printing formatter. It generates html report out of your test suite results:</p>
<div class="highlight-bash"><div class="highlight"><pre>behat -f html
</pre></div>
</div>
<div class="highlight-bash"><div class="highlight"><pre>behat -f html --out report.html
</pre></div>
</div>
</div>
<div class="section" id="junit">
<h2>JUnit<a class="headerlink" href="#junit" title="Permalink to this headline">¶</a></h2>
<p>JUnitFormatter is JUnit xml support formatter, which gets used in almost every CI server out there. To use it simply run:</p>
<div class="highlight-bash"><div class="highlight"><pre>behat -f junit --out /path/to/reports
</pre></div>
</div>
<p>Notice that <tt class="docutils literal"><span class="pre">--out</span></tt> argument is expected always and it need directory path (not file) to write xml&#8217;s into.</p>
</div>
<div class="section" id="writing-your-own-formatter">
<h2>Writing Your Own Formatter<a class="headerlink" href="#writing-your-own-formatter" title="Permalink to this headline">¶</a></h2>
<p>Writing your own formatter is as simple as:</p>
<ol class="arabic simple">
<li>Extend one of the bundled formatters or special <tt class="docutils literal"><span class="pre">Behat\Behat\Formatter\ConsoleFormatter</span></tt> (<a class="reference external" href="https://github.com/Behat/Behat/blob/master/src/Behat/Behat/Formatter/ConsoleFormatter.php">https://github.com/Behat/Behat/blob/master/src/Behat/Behat/Formatter/ConsoleFormatter.php</a>), which does only what you need. OR simply implement <tt class="docutils literal"><span class="pre">Behat\Behat\Formatter\FormatterInterface</span></tt> in your very own class.</li>
</ol>
<p>Lets add &#8220;hello, world&#8221; before each feature in output:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="c1">// features/support/EverzetFormatter.php</span>

<span class="k">namespace</span> <span class="nx">Everzet</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Behat\Behat\Formatter\PrettyFormatter</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Behat\Gherkin\Node\FeatureNode</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Formatter</span> <span class="k">extends</span> <span class="nx">PrettyFormatter</span>
<span class="p">{</span>
    <span class="k">protected</span> <span class="k">function</span> <span class="nf">printFeatureName</span><span class="p">(</span><span class="nx">FeatureNode</span> <span class="nv">$feature</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">writeln</span><span class="p">(</span><span class="s1">&#39;hello, world&#39;</span><span class="p">);</span>

        <span class="k">parent</span><span class="o">::</span><span class="na">printFeatureName</span><span class="p">(</span><span class="nv">$feature</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Try to overwrite only <tt class="docutils literal"><span class="pre">print...</span></tt> methods. The bundled formatters API is very clean and created with future extensions in mind.</p>
</div>
<p>now we need to tell Behat about this new formatter:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="c1">// features/support/bootstrap.php</span>

<span class="k">require_once</span><span class="p">(</span><span class="s1">&#39;EverzetFormatter.php&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>aaaaand it&#8217;s done! Use your new formatter with:</p>
<div class="highlight-bash"><div class="highlight"><pre>behat -f Everzet<span class="se">\\</span>Formatter
</pre></div>
</div>
</div>
</div>


        </section>

        <footer>
            <nav>
                    &laquo; <a href="transformations.html">Step Argument Transformations</a> |
                    <a href="#">
                        Formatters
                    </a>
                    | <a href="configuration.html">Configuration</a> &raquo;
            </nav>
        </footer>

    </section>

    <footer>
        <dl>
            <dt>Docs</dt>
            <dd><a href="http://docs.behat.org/en/quick_intro.html">Quick Intro</a></dd>
            <dd><a href="http://docs.behat.org/en/index.html">Behat</a></dd>
            <dd><a href="http://docs.behat.org/api/gherkin/index.html">Gherkin API</a></dd>
            <dd><a href="http://docs.behat.org/api/behat/index.html">Behat API</a></dd>
        </dl>
        <dl>
            <dt>Plugins</dt>
            <dd><a href="http://symfony2bundles.org/Behat/BehatBundle">BehatBundle</a></dd>
            <dd><a href="https://github.com/Behat/sfBehatPlugin">sfBehatPlugin</a></dd>
        </dl>
        <dl>
            <dt>Pear</dt>
            <dd><a href="http://pear.everzet.com/">Gherkin</a></dd>
            <dd><a href="http://pear.everzet.com/">Behat</a></dd>
        </dl>
        <dl>
            <dt>GitHub</dt>
            <dd><a href="https://github.com/Behat/Gherkin">Gherkin</a></dd>
            <dd><a href="https://github.com/Behat/Behat">Behat</a></dd>
        </dl>

        <div class="clear"></div>

        <div class="sponsor">
            <span>sponsored by</span>
            <a class="knp" href="http://www.knplabs.com">knpLabs, Symfony developers</a>
        </div>
    </footer>

  </body>
</html>